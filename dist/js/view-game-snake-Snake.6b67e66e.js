(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["view-game-snake-Snake"],{"14d9":function(t,i,e){"use strict";var n=e("23e7"),s=e("7b0b"),r=e("07fa"),o=e("3a34"),a=e("3511"),h=e("d039"),f=h((function(){return 4294967297!==[].push.call({length:4294967296},1)})),l=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},u=f||!l();n({target:"Array",proto:!0,arity:1,forced:u},{push:function(t){var i=s(this),e=r(i),n=arguments.length;a(e+n);for(var h=0;h<n;h++)i[e]=arguments[h],e++;return o(i,e),e}})},"2fb0":function(t,i,e){},"3a34":function(t,i,e){"use strict";var n=e("83ab"),s=e("e8b5"),r=TypeError,o=Object.getOwnPropertyDescriptor,a=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=a?function(t,i){if(s(t)&&!o(t,"length").writable)throw new r("Cannot set read only .length");return t.length=i}:function(t,i){return t.length=i}},7156:function(t,i,e){"use strict";var n=e("1626"),s=e("861d"),r=e("d2bb");t.exports=function(t,i,e){var o,a;return r&&n(o=i.constructor)&&o!==e&&s(a=o.prototype)&&a!==e.prototype&&r(t,a),t}},"842e":function(t,i,e){"use strict";e.r(i);var n=function(){var t=this,i=t._self._c;return i("div",{ref:"snake",staticClass:"snake"},[i("div",{ref:"map",staticClass:"map"})])},s=[],r=(e("99af"),e("d81d"),e("14d9"),e("e9c4"),e("d3b7"),e("159b"),e("fa7d")),o=null,a={name:"Snake",components:{},props:{},data:function(){return{keyNumber:0,snake:[],snakeList:[],snakeParts:{width:20,height:20},initialPosition:{left:40,top:0},food:null,foodPosition:{left:0,top:0}}},computed:{},watch:{},created:function(){},mounted:function(){this.initGame(),window.addEventListener("keydown",this.keyboard),window.addEventListener("resize",Object(r["b"])(this.initGame))},destroyed:function(){o&&(clearInterval(o),o=null),window.removeEventListener("keydown",this.keyboard),window.removeEventListener("resize",this.initGame)},methods:{initGame:function(){o&&(clearInterval(o),o=null),this.initialPosition={left:40,top:0},this.snake=this.snakeList=[],this.$refs.map.innerHTML="",this.setMap(),this.createSnake(),this.createFood()},setMap:function(){var t=this.$refs.map,i=this.snakeParts.width,e=this.snakeParts.height,n=(t.clientWidth-Math.floor(t.clientWidth/i)*i)/2+"px",s=(t.clientHeight-Math.floor(t.clientHeight/e)*e)/2+"px";this.$refs.snake.style.padding=s+" "+n},createSnake:function(){for(var t=0;t<3;t++){var i=document.createElement("span");i.style.position="absolute",i.style.top="0px",i.style.left=this.initialPosition.left-t*this.snakeParts.width+"px",i.style.display="inline-block",i.style.width=this.snakeParts.width+"px",i.style.height=this.snakeParts.height+"px",i.style.backgroundColor="#".concat(3*t).concat(3*t).concat(3*t),this.$refs.map.appendChild(i),this.snake.push(i)}},snakeMove:function(t){var i=this;if(JSON.stringify(this.initialPosition)===JSON.stringify(this.foodPosition)){if(!this.food)return;this.snake.push(this.food),this.$refs.map.appendChild(this.food),this.food=null,this.createFood()}this.snakeList=[];for(var e=this.snake.length-1;e>0;e--){this.snake[e].style.left=this.snake[e-1].offsetLeft+"px",this.snake[e].style.top=this.snake[e-1].offsetTop+"px";var n={left:this.snake[e].offsetLeft,top:this.snake[e].offsetTop};this.snakeList.push(n)}this.snakeList.push(this.initialPosition);var s=this.$refs.map.clientWidth,r=this.$refs.map.clientHeight;switch(this.keyNumber){case 37:if(0===this.initialPosition.left)return t&&alert("游戏结束"),this.keyNumber=0,void this.initGame();this.initialPosition.left-=this.snakeParts.width,this.snake[0].style.left=this.initialPosition.left+"px";break;case 38:if(0===this.initialPosition.top)return t&&alert("游戏结束"),this.keyNumber=0,void this.initGame();this.initialPosition.top-=this.snakeParts.height,this.snake[0].style.top=this.initialPosition.top+"px";break;case 39:if(this.initialPosition.left+this.snakeParts.width>=s)return t&&alert("游戏结束"),this.keyNumber=0,void this.initGame();this.initialPosition.left+=this.snakeParts.width,this.snake[0].style.left=this.initialPosition.left+"px";break;case 40:if(this.initialPosition.top+this.snakeParts.height>=r)return t&&alert("游戏结束"),this.keyNumber=0,void this.initGame();this.initialPosition.top+=this.snakeParts.height,this.snake[0].style.top=this.initialPosition.top+"px";break}var o=!1;this.snakeList.forEach((function(e){if(JSON.stringify(e)===JSON.stringify(i.initialPosition)){if(o)return t&&alert("游戏结束"),i.keyNumber=0,void i.initGame();o=!0}}))},createFood:function(){for(var t=this.snakeParts.width,i=this.snakeParts.height,e=Math.floor(Math.random()*(this.$refs.map.offsetWidth-t)/t)*t,n=Math.floor(Math.random()*(this.$refs.map.offsetHeight-i)/i)*i,s=document.createElement("span"),r="#",o=0;o<6;o++){var a=Math.floor(10*Math.random());r+=a}s.style.position="absolute",s.style.left=e+"px",s.style.top=n+"px",s.style.display="inline-block",s.style.width=this.snakeParts.width+"px",s.style.height=this.snakeParts.height+"px",s.style.backgroundColor=r,this.foodPosition.left=e,this.foodPosition.top=n,this.food=s,this.$refs.map.appendChild(s)},keyboard:function(t){var i=this;if(37===t.keyCode||38===t.keyCode||39===t.keyCode||40===t.keyCode){var e=this.keyNumber;37===e&&39===t.keyCode||38===e&&40===t.keyCode||39===e&&37===t.keyCode||40===e&&38===t.keyCode||(this.keyNumber=t.keyCode,this.keyNumber!==e&&(o&&(clearInterval(o),o=null),this.snakeMove(!1),o=setInterval((function(){i.snakeMove(!0)}),100)))}}}},h=a,f=(e("ff72"),e("2877")),l=Object(f["a"])(h,n,s,!1,null,"76cc221a",null);i["default"]=l.exports},aeb0:function(t,i,e){"use strict";var n=e("9bf2").f;t.exports=function(t,i,e){e in t||n(t,e,{configurable:!0,get:function(){return i[e]},set:function(t){i[e]=t}})}},e267:function(t,i,e){"use strict";var n=e("e330"),s=e("e8b5"),r=e("1626"),o=e("c6b6"),a=e("577e"),h=n([].push);t.exports=function(t){if(r(t))return t;if(s(t)){for(var i=t.length,e=[],n=0;n<i;n++){var f=t[n];"string"==typeof f?h(e,f):"number"!=typeof f&&"Number"!==o(f)&&"String"!==o(f)||h(e,a(f))}var l=e.length,u=!0;return function(t,i){if(u)return u=!1,i;if(s(this))return i;for(var n=0;n<l;n++)if(e[n]===t)return i}}}},e9c4:function(t,i,e){"use strict";var n=e("23e7"),s=e("d066"),r=e("2ba4"),o=e("c65b"),a=e("e330"),h=e("d039"),f=e("1626"),l=e("d9b5"),u=e("f36a"),c=e("e267"),d=e("04f8"),p=String,k=s("JSON","stringify"),y=a(/./.exec),b=a("".charAt),v=a("".charCodeAt),g=a("".replace),m=a(1..toString),P=/[\uD800-\uDFFF]/g,w=/^[\uD800-\uDBFF]$/,x=/^[\uDC00-\uDFFF]$/,C=!d||h((function(){var t=s("Symbol")("stringify detection");return"[null]"!==k([t])||"{}"!==k({a:t})||"{}"!==k(Object(t))})),N=h((function(){return'"\\udf06\\ud834"'!==k("\udf06\ud834")||'"\\udead"'!==k("\udead")})),M=function(t,i){var e=u(arguments),n=c(i);if(f(n)||void 0!==t&&!l(t))return e[1]=function(t,i){if(f(n)&&(i=o(n,this,p(t),i)),!l(i))return i},r(k,null,e)},S=function(t,i,e){var n=b(e,i-1),s=b(e,i+1);return y(w,t)&&!y(x,s)||y(x,t)&&!y(w,n)?"\\u"+m(v(t,0),16):t};k&&n({target:"JSON",stat:!0,arity:3,forced:C||N},{stringify:function(t,i,e){var n=u(arguments),s=r(C?M:k,null,n);return N&&"string"==typeof s?g(s,P,S):s}})},ff72:function(t,i,e){"use strict";e("2fb0")}}]);